#   对虚拟DOM的理解？虚拟DOM主要做了什么？虚拟DOM本身是什么？
##  一、什么是虚拟DOM
+   从本质上来说，Vitual DOM是一个js对象，通过对象的方式来表示DOM解构。将页面的状态抽象为JS对象的形式，配合不同的渲染工具，使夸平台渲染成为可能。通过事务处理机制，将多次DOM修改的结果一次性的更新到页面上，从而有效的减少页面渲染的次数，减少修改dom的重绘重排次数，提高渲染性能。
+   虚拟DOM是对DOM的抽象，这个对象是更加轻量级的对DOM的描述。它设计的最初目的，就是更好的跨平台，比如Node.js就没有DOM，如果想实现SSR，那么一个方式就是借助虚拟DOM，因为虚拟DOM本身就是js对象。
+   在代码渲染到页面之前，Vue或者react会把代码转换成一个对象（虚拟dom）。以对象的形式来描述真实dom解构，最终渲染到页面。在每次数据发生变化前，虚拟dom都会缓存一份，变化之时，现在的虚拟dom会与缓存的虚拟dom进行比较.
+   在Vue或者react内部封装了diff算法，通过这个算法来进行比较，渲染时修改改变的变化，原先没有发生改变的通过原先的数据进行渲染。
+   另外现代前端框架的一个基本要救就是无需手动操作DOM，一方面是因为手动操作DOM无法保证程序性能，多人协作的项目中如果review不严格，可能会有开发者写出性能较低的代码，另一方面更重要的是省略手动DOM操作可以大大提高开发效率。
##  二、为什么要使用Virtual DOM
+   保证性能下限，在不进行手动优化的情况下，提供过得去的性能。
    看一下页面渲染的流程：
    -   解析HTML->生成dom树->css树->layout->paint->compiler
    对比一下修改dom时真实DOM操作和Virtual DOM的过程，来看一下他们重排重绘的性能消耗:
    -   真实DOM：生成HTML字符串+重建所有DOM元素
    -   虚拟DOM：生成vnode+domdiff+必要dom更新
虚拟dom的更新dom的准备工作耗费更多的时间，但是是js层面的，相比更多的dom操作它的消费是极其廉价的。鱿鱼丝在社区论坛中说到：框架给你的保证是，你不需要手动优化的情况下，我依然可以给你提供过得去的性能。
+   跨平台
虚拟dom本质上是js对象，可以很方便的跨平台操作，比如服务端渲染、uniapp等
##  三、虚拟dom真的比真实的dom性能好吗？
+   首次渲染大量DOM时，由于多了一层虚拟DOM的计算，回避innerHTML插入慢
+   正如它能保证性能下限，在真实DOM操作的时候进行针对性的优化时，还是更快的。